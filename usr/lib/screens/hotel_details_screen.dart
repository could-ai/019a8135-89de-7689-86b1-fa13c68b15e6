import 'package:flutter/material.dart';\nimport '../models/hotel.dart';\n\nclass HotelDetailsScreen extends StatefulWidget {\n  const HotelDetailsScreen({super.key});\n\n  @override\n  State<HotelDetailsScreen> createState() => _HotelDetailsScreenState();\n}\n\nclass _HotelDetailsScreenState extends State<HotelDetailsScreen> {\n  int _currentImageIndex = 0;\n\n  @override\n  Widget build(BuildContext context) {\n    final hotel = ModalRoute.of(context)!.settings.arguments as Hotel;\n\n    return Scaffold(\n      body: CustomScrollView(\n        slivers: [\n          // App Bar with Image Carousel\n          SliverAppBar(\n            expandedHeight: 300,\n            pinned: true,\n            flexibleSpace: FlexibleSpaceBar(\n              background: Stack(\n                fit: StackFit.expand,\n                children: [\n                  PageView.builder(\n                    itemCount: hotel.images.length,\n                    onPageChanged: (index) {\n                      setState(() {\n                        _currentImageIndex = index;\n                      });\n                    },\n                    itemBuilder: (context, index) {\n                      return Image.network(\n                        hotel.images[index],\n                        fit: BoxFit.cover,\n                        errorBuilder: (context, error, stackTrace) {\n                          return Container(\n                            color: Colors.grey[300],\n                            child: const Icon(Icons.hotel, size: 64),\n                          );\n                        },\n                      );\n                    },\n                  ),\n                  // Image indicator\n                  Positioned(\n                    bottom: 16,\n                    left: 0,\n                    right: 0,\n                    child: Row(\n                      mainAxisAlignment: MainAxisAlignment.center,\n                      children: List.generate(\n                        hotel.images.length,\n                        (index) => Container(\n                          margin: const EdgeInsets.symmetric(horizontal: 4),\n                          width: 8,\n                          height: 8,\n                          decoration: BoxDecoration(\n                            shape: BoxShape.circle,\n                            color: _currentImageIndex == index\n                                ? Colors.white\n                                : Colors.white.withOpacity(0.4),\n                          ),\n                        ),\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          ),\n          // Content\n          SliverToBoxAdapter(\n            child: Padding(\n              padding: const EdgeInsets.all(16),\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  // Hotel Name and Location\n                  Text(\n                    hotel.name,\n                    style: Theme.of(context).textTheme.headlineSmall?.copyWith(\n                          fontWeight: FontWeight.bold,\n                        ),\n                  ),\n                  const SizedBox(height: 8),\n                  Row(\n                    children: [\n                      Icon(Icons.location_on, size: 16, color: Colors.grey[600]),\n                      const SizedBox(width: 4),\n                      Text(\n                        hotel.location,\n                        style: TextStyle(color: Colors.grey[600]),\n                      ),\n                    ],\n                  ),\n                  const SizedBox(height: 16),\n                  // Rating and Reviews\n                  Row(\n                    children: [\n                      Container(\n                        padding: const EdgeInsets.symmetric(\n                          horizontal: 8,\n                          vertical: 4,\n                        ),\n                        decoration: BoxDecoration(\n                          color: Colors.blue,\n                          borderRadius: BorderRadius.circular(8),\n                        ),\n                        child: Row(\n                          children: [\n                            const Icon(\n                              Icons.star,\n                              size: 16,\n                              color: Colors.white,\n                            ),\n                            const SizedBox(width: 4),\n                            Text(\n                              hotel.rating.toString(),\n                              style: const TextStyle(\n                                color: Colors.white,\n                                fontWeight: FontWeight.bold,\n                              ),\n                            ),\n                          ],\n                        ),\n                      ),\n                      const SizedBox(width: 8),\n                      Text(\n                        '${hotel.reviewCount} reviews',\n                        style: TextStyle(color: Colors.grey[600]),\n                      ),\n                    ],\n                  ),\n                  const SizedBox(height: 24),\n                  // Price\n                  Row(\n                    children: [\n                      Text(\n                        '\$${hotel.pricePerNight.toStringAsFixed(0)}',\n                        style:\n                            Theme.of(context).textTheme.headlineMedium?.copyWith(\n                                  fontWeight: FontWeight.bold,\n                                  color: Colors.blue,\n                                ),\n                      ),\n                      Text(\n                        ' / night',\n                        style: TextStyle(color: Colors.grey[600]),\n                      ),\n                    ],\n                  ),\n                  const SizedBox(height: 24),\n                  // Description\n                  Text(\n                    'About this hotel',\n                    style: Theme.of(context).textTheme.titleLarge?.copyWith(\n                          fontWeight: FontWeight.bold,\n                        ),\n                  ),\n                  const SizedBox(height: 8),\n                  Text(\n                    hotel.description,\n                    style: TextStyle(\n                      color: Colors.grey[800],\n                      height: 1.5,\n                    ),\n                  ),\n                  const SizedBox(height: 24),\n                  // Amenities\n                  Text(\n                    'Amenities',\n                    style: Theme.of(context).textTheme.titleLarge?.copyWith(\n                          fontWeight: FontWeight.bold,\n                        ),\n                  ),\n                  const SizedBox(height: 12),\n                  Wrap(\n                    spacing: 8,\n                    runSpacing: 8,\n                    children: hotel.amenities.map((amenity) {\n                      return Chip(\n                        label: Text(amenity),\n                        backgroundColor: Colors.blue[50],\n                        labelStyle: const TextStyle(color: Colors.blue),\n                      );\n                    }).toList(),\n                  ),\n                  const SizedBox(height: 100), // Space for bottom button\n                ],\n              ),\n            ),\n          ),\n        ],\n      ),\n      // Book Now Button\n      bottomNavigationBar: Container(\n        padding: const EdgeInsets.all(16),\n        decoration: BoxDecoration(\n          color: Colors.white,\n          boxShadow: [\n            BoxShadow(\n              color: Colors.black.withOpacity(0.1),\n              blurRadius: 10,\n              offset: const Offset(0, -2),\n            ),\n          ],\n        ),\n        child: SafeArea(\n          child: ElevatedButton(\n            onPressed: () {\n              Navigator.pushNamed(\n                context,\n                '/booking',\n                arguments: hotel,\n              );\n            },\n            style: ElevatedButton.styleFrom(\n              backgroundColor: Colors.blue,\n              foregroundColor: Colors.white,\n              padding: const EdgeInsets.symmetric(vertical: 16),\n              shape: RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(12),\n              ),\n            ),\n            child: const Text(\n              'Book Now',\n              style: TextStyle(\n                fontSize: 16,\n                fontWeight: FontWeight.bold,\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}