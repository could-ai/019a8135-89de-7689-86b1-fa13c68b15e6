import 'package:flutter/material.dart';\nimport '../models/booking.dart';\nimport '../services/booking_service.dart';\nimport '../widgets/booking_card.dart';\n\nclass BookingsListScreen extends StatefulWidget {\n  const BookingsListScreen({super.key});\n\n  @override\n  State<BookingsListScreen> createState() => _BookingsListScreenState();\n}\n\nclass _BookingsListScreenState extends State<BookingsListScreen> {\n  List<Booking> _bookings = [];\n\n  @override\n  void initState() {\n    super.initState();\n    _loadBookings();\n  }\n\n  void _loadBookings() {\n    setState(() {\n      _bookings = BookingService.getAllBookings();\n    });\n  }\n\n  void _cancelBooking(String bookingId) {\n    showDialog(\n      context: context,\n      builder: (BuildContext context) {\n        return AlertDialog(\n          title: const Text('Cancel Booking'),\n          content: const Text(\n            'Are you sure you want to cancel this booking? This action cannot be undone.',\n          ),\n          actions: [\n            TextButton(\n              onPressed: () => Navigator.of(context).pop(),\n              child: const Text('No, Keep It'),\n            ),\n            ElevatedButton(\n              onPressed: () {\n                BookingService.cancelBooking(bookingId);\n                Navigator.of(context).pop();\n                _loadBookings();\n                ScaffoldMessenger.of(context).showSnackBar(\n                  const SnackBar(\n                    content: Text('Booking cancelled successfully'),\n                    backgroundColor: Colors.orange,\n                  ),\n                );\n              },\n              style: ElevatedButton.styleFrom(\n                backgroundColor: Colors.red,\n                foregroundColor: Colors.white,\n              ),\n              child: const Text('Yes, Cancel'),\n            ),\n          ],\n        );\n      },\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('My Bookings'),\n      ),\n      body: _bookings.isEmpty\n          ? Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(\n                    Icons.bookmark_border,\n                    size: 64,\n                    color: Colors.grey[400],\n                  ),\n                  const SizedBox(height: 16),\n                  Text(\n                    'No bookings yet',\n                    style: TextStyle(\n                      fontSize: 18,\n                      color: Colors.grey[600],\n                    ),\n                  ),\n                  const SizedBox(height: 8),\n                  Text(\n                    'Start exploring hotels to make your first booking',\n                    style: TextStyle(\n                      color: Colors.grey[500],\n                    ),\n                  ),\n                  const SizedBox(height: 24),\n                  ElevatedButton.icon(\n                    onPressed: () {\n                      Navigator.pop(context);\n                    },\n                    icon: const Icon(Icons.search),\n                    label: const Text('Browse Hotels'),\n                    style: ElevatedButton.styleFrom(\n                      backgroundColor: Colors.blue,\n                      foregroundColor: Colors.white,\n                      padding: const EdgeInsets.symmetric(\n                        horizontal: 24,\n                        vertical: 12,\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            )\n          : ListView.builder(\n              padding: const EdgeInsets.all(16),\n              itemCount: _bookings.length,\n              itemBuilder: (context, index) {\n                return BookingCard(\n                  booking: _bookings[index],\n                  onCancel: () => _cancelBooking(_bookings[index].id),\n                );\n              },\n            ),\n    );\n  }\n}